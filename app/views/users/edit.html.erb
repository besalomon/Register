<html>
<title></title>
<head>
<script src="myjs.js"></script>
</head>
<h1> Update your Account </h1>

<div class="col-md-2">

</div>

<div class = "col-md-6">

<%= form_tag"/profile/edit", :class => "signup", method: :patch do %>
  <div class="form-group">
    <label for="first_name">First Name</label>
    <input type="text" class="form-control" id="FirstName" aria-describedby="FirstName" value ="<%= current_user.first_name%>" name ="first_name">
    <small id="FirstNameHelp" class="form-text text-muted" >Eg: Salomon</small>
  </div>
  <div class="form-group">
    <label for="last_name">Last Name</label>
    <input type="text" class="form-control" id="LastName" aria-describedby="LastName" value ="<%= current_user.last_name%>" name="last_name">
    <small id="LastNameHelp" class="form-text text-muted" >Eg: Beza</small>
  </div>
<div class="form-group">
    <label for="phone_number">Phone Number</label>
    <input type="text" class="form-control" id="PhoneNumber" aria-describedby="PhoneNumber" value ="<%= current_user.phone_number%>" name="phone">
    <small id="PhoneNumberHelp" class="form-text text-muted">Eg: +250725897302</small>
  </div>

  <div>
    <label for="DOB">Date of Birth</label>
    <input type="date" name="date">

  </div><br>

  <div class="form-group">
    <label for="exampleInputEmail1">Email address</label>
    <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" value ="<%= current_user.email_address %>" name ="email">
    <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
  </div>

  <div class="form-group">
    <label for="exampleInputPassword1">New Password</label>
    <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password" name = "password">
  </div>
  <div class="form-group">
    <label for="passwordconfirmation">Confirm New Password</label>
    <input type="password" class="form-control" id="passwordconfirmation" placeholder="Password" name="password_confirmation">
  </div>
  
  <div class="form-group">
    <label for="exampleTextarea">Biography</label>
    <textarea class="form-control" id="exampleTextarea" rows="3" name="bio"> <%= current_user.bio%></textarea>
  </div>

  <div class="form-group">
    <label for="ImageURL">Image Url</label>
    <input type="text" class="form-control" id="ImageURL" aria-describedby="PhoneNumber" value = "<%= current_user.photo%>" name = "photo">
  </div>

  <% if current_user && current_user.role.name == "admin" %>

  <div class="form-group">
    <label for="ImageURL">Role</label>
    <select class="form-control" name = "role_id" onchange="showDiv(this)">
    <option selected disabled>
      current: <%= current_user.role.name %>
    </option>
      <% @roles.each do |role| %>
      <option value="<%= role.id %>"><%= role.name %></option>
      <% end %>
    </select>
  </div>
  <% end %>

      <div id = "hidden_div" hidden>
        <div class="form-group">
          <label for="title">Job Title</label>
          <input type="text" class="form-control" id="Title" aria-describedby="JobTitle" placeholder="Enter your job title" name = "job_title">
        </div>
      </div>

      <% if current_user.role.name == "admin"%>

      <% elsif current_user.role.name == "student" %>

      <div id = "hidden_di">
        <div class="form-group">
          <label for="title">Class Level</label>
          <select class="form-control" name = "class_level">
          <option selected disabled> Current: <%= current_user.student.class_level%></option>
          <option>Level 1</option>
          <option>Level 2</option>
          <option>Level 3</option>
          <option>Level 4</option>
          </select>
        </div>
      </div>  

      <% end %>

      <% if current_user.role.name == "teacher" %>
        <div class="form-group">
          <label for="title">Job Title</label>
          <input type="text" class="form-control" id="Title" aria-describedby="JobTitle" value ="<%= current_user.teacher.title%>" name = "job_title">
        </div>
      <% end %>

  </fieldset>
  <button type="submit" class="btn btn-primary">Update Info</button>
</form>

</div>
<% end %>
  

</div>
</html>